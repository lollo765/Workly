 <%= stylesheet_link_tag 'style.css' %>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<%= form_with model: @lavoro do |form| %>
  <% if lavoro.errors.any?%>
    <div id="spiegazione_errore">
      <h2><%= pluralize(lavoro.errors.count, "errore")%></h2>
        <ul>
          <%lavoro.errors.each do |error|%>
          <li><%= error.full_message%></li>
          <% end %>
        </ul>
    </div>
  <%end%>

  <div class="field">
    <label>Titolo</label>
    <br>
    <%= form.text_field :title %>
    <% lavoro.errors.full_messages_for(:title).each do |message| %>
      <div><%= message %></div>
    <% end %>
  </div>

  <div class="field">
    <label>Descrizione</label>
    <br>
    <%= form.text_area :description %>
  </div>

  <div class="field">
    <label>Numero Lavoratori</label><br>
    <%= form.number_field :n_Lavoratori,min:1 ,max: 30, step: 'any' %>
  </div>
  <br>
  <div class="field">
    <label>Categoria</label>
    <br>
    <%= form.select :categories,[['Sviluppo di siti web','Sviluppo di siti web'],
                                 ['Sviluppo di applicazioni','Sviluppo di applicazioni'],
                                 ['Assistenza e Sicurezza Informatica','Assistenza e Sicurezza Informatica'],
                                 ['Varie','Varie']], {:include_blank => "Seleziona Categoria"} %><br>
  </div>
  <br>
  <div class="field">
   <label>Skill Richieste</label>
   <br>
   <%= form.select :categories,[['WordPress-Developer','WordPress-Developer'],
                                ['Shopify-Developer','Shopify-Developer'],
                                ['Wlx-Developer','Wlx-Developer'],
                                ['Android-Developer','Android-Developer'],
                                ['IOS-Developer','IOS-Developer'],
                                ['Python-Developer','Python-Developer'],
                                ['JavaScript-Developer','JavaScript-Developer'],
                                ['HTML-CSS-Developer','HTML-CSS-Developer']],{:include_blank => "Seleziona Skill"}%>    
  </div>
  <br>


  <div class="field">
    <%= form.label :timer %><br>
    <%= form.number_field :timer,min:1,step: 'any' %>
  </div>

  <div>
    <label>Moneta</label>
    <br>
    <%= form.select :currency, [['BTC', 'BTC'], ['DOGE', 'DOGE'], ['ETH', 'ETH']] %><br>
  </div>

  <br>
  <div class="actions">
    <%= form.submit %><br>
  </div>

  <script>
    $(document).ready(function(){
      $("#1").click(function(){
        var x=$("#1").val();
        if ($("#1").is(":checked"))
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val() + x + ", ");
        else{
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(x, ""));
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(", ", ""));
        }
      });

       $("#2").click(function(){
        var x=$("#2").val();
        if ($("#2").is(":checked"))
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val() + x + ", ");
        else{
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(x, ""));
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(", ", ""));
        }
      });

       $("#3").click(function(){
        var x=$("#3").val();
        if ($("#3").is(":checked"))
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val() + x + ", ");
        else{
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(x, ""));
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(", ", ""));
        }
      });

       $("#4").click(function(){
        var x=$("#4").val();
        if ($("#4").is(":checked"))
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val() + x + ", ");
        else{
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(x, ""));
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(", ", ""));
        }
      });

       $("#5").click(function(){
        var x=$("#5").val();
        if ($("#5").is(":checked"))
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val() + x + ", ");
        else{
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(x, ""));
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(", ", ""));
        }
      });

       $("#6").click(function(){
        var x=$("#6").val();
        if ($("#6").is(":checked"))
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val() + x + ", ");
        else{
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(x, ""));
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(", ", ""));
        }
      });

       $("#7").click(function(){
        var x=$("#7").val();
        if ($("#7").is(":checked"))
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val() + x + ", ");
        else{
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(x, ""));
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(", ", ""));
        }
      });

       $("#8").click(function(){
        var x=$("#8").val();
        if ($("#8").is(":checked"))
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val() + x + ", ");
        else{
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(x, ""));
          $("#skill_Lavoratori").val($("#skill_Lavoratori").val().replace(", ", ""));
        }
      });
    });
  </script>
<%end%>